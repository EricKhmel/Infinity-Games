# Infinity-Games
A repository by the Cold Stone Software Development Company

**admin.php**
This file represents the admin privileges when it comes to accepting requests. The first block of code is universal on all pages, which uses a simple if else statement in conjunction with our database to check if a user is logged in. If there is an active logged in user, a JavaScript file called loggedNav.js will be referenced and a navbar will appear with a logout button. The else statement is if no one is logged in. In that case, a JavaScript file called nav.js will be referenced and the navigation bar will have a login button. The next block of code is an SQL query that references the Requests table in our database. This retrieves all of the outstanding requests which will appear below the request form for administrators. The last large block of code is the form that appears when an administrator accepts a given request. Each field has an id that is echoed in the game.php file, used to create individual game pages.

**adminDeny.php**
This file contains the functionality for denying game requests as an administrator. The first block is the if else statement that displays a different navigation bar if the user is logged in. The second short block of code is the deny request function. This is a form that appears when the deny button is clicked. This takes the title of a game as input and will delete any request from the requests table in the database that matches this title.

**errors.php**
This file is used to handle errors when attempting to connect to the database. If any error occurs during a server request, then it will be announced to the console using a for-each loop to display every error in the errors array. This file makes the debugging process much easier. 

**game.php**
This file contains all of the functions necessary to display a game page. All of the information is displayed on the web page using echo, which displays specific rows of our database corresponding to the given game. The first block after the navigation bar if else statement displays the game logo along with its width and height. The echo statement displays the contents of the logo row and resizes it with the content of the width and height row of the database. The next block displays the title of the game. This is displayed directly to the right of the logo and is separated by a vertical line. The next block of code displays the description of the game which is stored in the description row of the database. The next block displays the trailer for the game. The embedded version of the trailer URL is stored in the trailer row of the database and the width and height of the trailer on the game page is hard-coded for consistency. The table below the trailer block of is for the developer, publisher and release year, which are all displayed by echoing the respective rows in the database in plain text. Below that are the platforms which are simply echoed from the database in plain text as well. The last two blocks of code on this file are the reviews and the twitter link. The hypertext references are echoed from the ignLink row and the social row, and their images are hardcoded to the logos of IGN and Twitter, respectively.

**index.php**
Like the previous files, the navigation bar that is displayed depends on whether a user is logged in or not. An if statement is used to reference the correct JavaScript file and display the right navigation bar. This file is the standard home page file, where we have blocks of simple HTML code that contain the title and the description of the website. The next large block of code displays relevant gaming news. This has divs with the gallery class tag which allows us to combine a clickable image with the title of the news article attached to it. We have the article URLs, images, and article titles hardcoded for simplicity.

**login.php**
This file contains all the functions necessary to be able to log in as a user of the website. The first line of code involves the communication between the page and the database.  The next two lines of code are typical in every website code mockup. All the code in the Head section are also common lines of code that help to design the website. The Body section is where the main functionality of the website actually happens. The first line of code in this section is the code used for the navbar, which works with a javascript file. Next, there is a div class that has a header labeled ‘Login’.  Beneath this div class is the actual form method where users will be able to input their data.  At the top of this form is a php connection to another file called ‘error.php’ that will catch any mistakes during the login process.  Users will have to fill out their username and password before they can click on the Login button at the bottom of the form.  If users do not have an account already, they will be able to click on the Sign Up button which will take them to ‘register.php’.

**register.php**
This file contains the actions needed for users to create an account if they don’t have one already.  The first line of code is the connection to the database that will read the information being inputted.  The rest of the code all the way until the ending of the Head section is the same in this file as it is in login.php.  The first block of code in the Body section is a php if statement that checks if a user is logged in or not.  Depending on this status, the user will see a different navbar with different functionality such as the ability to logout if they are logged in, or be able to log in if they are logged out.  Beneath this if statement is a form for users to input their information such as: username, email, password, and password confirmation.  When all the information has been entered, users can click Register near the bottom of the form in order to document their information into the database.  At the bottom of the form, users who already have an account can choose to Sign in instead of creating another account.

**request.php**
This file is where logged in users will be able to send a request on a game they would like added to the website.  All lines of code up until the first form method on line 27 are the same as the previous files.  The first portion of the form method works on taking information such as: the title of the game, their publisher, their developer, the release year, available platforms, and if they have multiplayer capabilities.  Right below this, there is a php if statement in the code on line 47.  What this if statement does is check to see if the logged in user is an admin or not.  If the logged in user is an admin, then they will be able to see the table starting at line 60.  This table holds all the information regarding the requests that have been sent, and displays them accordingly.  The code works on grabbing the information from the database instead of having to type in all the information by hand.

**results.php**


**server.php**
This file contains the instructions for connecting to the MySQL database, as well as defining and handling most of the SQL queries from POST requests. The connection to the database is initialized using the mysqli_init() method. The connection requires ssl to be utilized for a secure connection to the database; the path to the certificate is specified using the mysqli_ssl_set() method. The final step in connecting to the database is to specify the hostname, username, and password using the mysqli_real_connect() method. Once the connection has been established, the $db variable can be used when creating new queries. There are six main if-statement blocks that listen for the following POST requests from pages on the website: reg_user, logout, login_user, req_game, add_game, and del_game. These are meant to handle the following quests, respectively: registering a new user, logging a user out of their account, requesting a new game to be added, accepting a game request, and denying a game request. Inside each if block, functions such as mysqli_query)() and mysqli_fetch_assoc() are used to push the queries to the server, and array_push() is used to push any errors to the errors array.
